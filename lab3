#include <iostream>
int comparisons = 0;
int swaps = 0;
void Sink(int arr[], int i, int n) {
    int k = i;
    bool placed = false;
    while (!placed && 2 * k + 1 < n) {
        int j = 2 * k + 1;         
        if (j + 1 < n && arr[j + 1] > arr[j]) {
            j = j + 1;              
        }
        comparisons++;
        if (arr[k] >= arr[j]) {
            placed = true;
        }
        else {
            std::swap(arr[k], arr[j]);
            swaps++;
            k = j;
        }
    }
}

void HeapSort(int arr[], int n) {
    for (int i = n / 2 - 1; i >= 0; --i) {
        Sink(arr, i, n);
    }

    for (int heapSize = n; heapSize > 1; --heapSize) {
        std::swap(arr[0], arr[heapSize - 1]);  
        comparisons++;
        Sink(arr, 0, heapSize - 1);            
    }
}

int main() {
    int numbers[] = { 10, 90, 95, 30, 45, 60, 57, 28, 5 };
    int size = std::size(numbers);

    HeapSort(numbers, size);

    std::cout << "Sorted array: ";
    for (int i = 0; i < size; i++)
        std::cout << numbers[i] << ' ';

    std::cout << "\nComparisons: " << comparisons;
    std::cout << "\nSwaps: " << swaps;
}
